# Содержание
1. [Содержание](#содержание)
1. [Общее](#общее)
1. [Задание](#задание)
    1. [Cabal](#cabal)
    1. [Задача 1](#задача-1)
    1. [Задача 2](#задача-2)
    1. [Тесты](#тесты)
1. [Советы](#советы)
1. [Требования к корректности решения](#требования-к-корректности-решения)
1. [Формат сдачи](#формат-сдачи)
1. [Сроки сдачи](#сроки-сдачи)

# Общее

В этом домашнем задании вам предлагается познакомиться с языком программирования Haskell. Оно состоит из двух независимых частей, каждая из которых оценивается в 2.5 балла, из которых 50% вы получаете за корректность и 50% за стиль.

# Задание

В этой папке лежит Cabal-проект, представляющий собой набросок библиотеки, в которой вам необходимо реализовать недостающие функции. Для них уже написаны типовые аннотации и объявления, но вместо реализации написано `undefined`. Вам необходимо заменить все `undefined` на реализации, соответствующие требованиям, указанным в комментариях.

## Cabal

Cabal — это менеджер пакетов и система сборки для проектов на языке Haskell. В этом задании нам достаточно будет использовать команды `cabal build` и `cabal test` для запуска сборки проекта и для запуска тестов соответственно. Использование первой команды в данном случае выглядит довольно игрушечным, однако ей полезно попользоваться, что бы убедиться, что ваш код компилируется так же, как и у нас.

Вам может потребоваться доставить недостающие библиотеки для тестирования. Это можно сделать следующей последовательностью команд
```
$> cabal update -- получить актуальный список пакетов с Hackage
$> cabal install hunit
$> cabal install hspec
$> cabal install tasty
$> cabal install tasty-hspec
$> cabal install tasty-hunit
```

Советуем ознакомиться с информацией по ссылке — [CSCWiki](https://bsse.compscicenter.ru/wiki/index.php?title=%D0%9F%D0%B0%D1%80%D0%B0%D0%B4%D0%B8%D0%B3%D0%BC%D1%8B_1MIT,_%D1%81%D0%BE%D1%84%D1%82#Haskell). Если вы используете Windows, то с установкой библиотек могут возникнуть тонкие моменты.
Также тонкие моменты могут возникнуть с командами без префикса `v2-` или `new-` — они формально считаются устаревшими, но всё ещё работают.
Правда, выводят в начале длинное предупреждение.

В файлах с исходным кодом написаны комментарии к каждой из функций, которые необходимо реализовать. В случае неоднозначностей в формулировках — напишите нам, пожалуйста, мы постараемся оперативно их устранить

## Задача 1

Цель этой части — дать вам представление о базовых конструкциях языка и научить определять функции с помощью рекурсии и сопоставления с образцом. В этой части требуется реализовать восемь функций, каждая из которых оценивается независимо в одинаковое количество баллов

Для выполнения этой части вам необходимо реализовать функции в файле `src/Basics.hs`

## Задача 2

Цель этой части — показать вам, как с помощью встроенных типов данных и конструкций моделировать объекты, несущие какое-либо состояние, прямо как в ООП. Эта часть оценивается целиком, то есть необходимо реализовать все функции.

Для выполнения этой части вам необходимо реализовать функции в файле `src/Robots.hs`

## Тесты

В предоставленной реализации уже имеется несколько автоматических тестов, которые лежат в каталоге `test` и запускаются командой `cabal test`.
Вам требуется добавить собственные тесты, используя одну из библиотек на выбор: Tasty, HSpec, HUnit.

Вы также можете запустить только тесты для одной из частей задания при помощи `cabal test basics` или `cabal test robots`.

Требования к тестам для первой части: 
1. Для каждой функции имеется хотя бы один тест, проверяющий работу функции на бесконечном списке (если это имеет смысл)
2. Для каждой функции имеется хотя бы один тест, проверяющий работу функции на конечном непустом списке

Требования к тестам для второй части:
1. Для каждой функции имеется хотя бы один тест, проверяющий работу функции

Полезные ссылки на документацию к библиотекам для тестов и примеры:
* [HSpec](http://hspec.github.io/)
* [HUnit](https://github.com/hspec/HUnit#readme)
* [Tasty](https://github.com/feuerbach/tasty/blob/master/README.md)

# Советы

1. Несмотря на то, что это Cabal-проект, вы можете загружать файлы с исходным кодом прямиком в `ghci` командой `ghci src/Basics.hs` или `ghci src/Robots.hs`(если вы находитесь в корне проекта). Единственное отличие — предупреждения компилятора не будут трактоваться как ошибки.
2. После загрузки вы можете вызывать реализованные вами функции прямиком в интерпретаторе и вручную тестировать их работоспособность.
3. Если вы используете Windows, то будьте внимательны, если пути к файлам с исходным кодом содержат пробелы или русские буквы. Линковщик ругается не самой понятной ошибкой (что-то в духе `commitBuffer: invalid argument (invalid character)`). Решение — либо запускать тесты полностью вручную (загрузив модуль с тестами и заданием в интерпретатор и вызвав `main`, предварительно доставив библиотеки для тестирования), либо сменив папку, либо воспользовавшись виртуальной машиной с Linux. Эдгару кажется, что на Linux проще, Егор так не считает :)
4. Используйте команду `hlint`, чтобы получить советы по упрощению кода.
   Например: `hlint src/Basics.hs` или `hlint .` (чтобы проверить всю папку).
   Не всем из них, впрочем, надо следовать.
5. В этом задании отсутствует автоматическая проверка форматирования кода и проверки на Travis.
   Разверните себе среду разработки локально, делайте много тестов и запускайте их через `cabal` перед отправкой.
6. Вам необязательно досконально изучать синтаксис библиотек для тестирования, чтобы начать их использовать.
   Посмотрите на готовый пример и догадайтесь, как можно дописать тесты.

# Требования к корректности решения

Если присланные файлы не соответствуют хотя бы одному из условий ниже, решение считается некорректным и оценивается в 0 баллов:

* Коммиты не трогают `.cabal` - файл. Если нужно в нем что-то изменить — пишите, обсудим.
* `cabal build` должен собирать объектные файлы библиотеки без ошибок и предупреждений
* `cabal test` отрабатывает без ошибок и все автоматические тесты проходят
* Типы функций в заданиях не изменены
* Все имеющиеся тесты оставлены без изменений, при этом добавлены новые
* Решения не должны зависать при запуске на любых корректных тестах (в том числе и на бесконечных списках)
* Во второй задаче реализованы **все** функции

# Формат сдачи
Если возникают **любые** непонятки с форматом сдачи (даже простые и мелкие) - пишите преподавателю!
Мы не хотим, чтобы вы не сдали просто потому что кто-то не очень хорошо рассказал Git или дал мало практики :)

Требования стандартные (см. task08), название для pull request: `Task10, GroupXX, Фамилия Имя`.

# Сроки сдачи
|   | `18.Б09-пу` | `18.Б10-пу` |Максимальное количество баллов при сдаче в срок
|---|---|---|---|
|Дата выдачи|27.04.2019|27.04.2019||
|Мягкий дедлайн|04.05.2019 22:59|04.05.2019 22:59|5|
|Жёсткий дедлайн|13.05.2019 22:59|13.05.2019 22:59|2.5|
